import{C as r}from"./ContactForm-CcO92yhF.js";import{_ as i,C as c,c as h,a,d as u,t as l,e as m,r as p,o as d}from"./index-BiOrsmkQ.js";const C={components:{ContactForm:r},props:{id:{type:String,required:!0}},data(){return{contact:null,message:""}},methods:{async getContact(t){try{this.contact=(await c.get(t))[0]}catch(e){console.log(e),this.$router.push({name:"notfound",params:{pathMatch:this.$route.path.split("/").slice(1)},query:this.$route.query,hash:this.$route.hash})}},async updateContact(t){try{await c.update(this.contact._id,t),this.message="Liên hệ được cập nhật thành công."}catch(e){console.log(e)}},async deleteContact(){if(confirm("Bạn muốn xóa Liên hệ này?"))try{await c.delete(this.contact._id),this.$router.push({name:"contactbook"})}catch(t){console.log(t)}}},created(){this.getContact(this.id),this.message=""}},g={key:0,class:"page"};function _(t,e,y,f,o,n){const s=p("ContactForm");return o.contact?(d(),h("div",g,[e[0]||(e[0]=a("h4",null,"Hiệu chỉnh Liên hệ",-1)),u(s,{contact:o.contact,"onSubmit:contact":n.updateContact,"onDelete:contact":n.deleteContact},null,8,["contact","onSubmit:contact","onDelete:contact"]),a("p",null,l(o.message),1)])):m("",!0)}const x=i(C,[["render",_]]);export{x as default};
